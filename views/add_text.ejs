<%- include('partials/header', { user: user }) %>

<h2 class="mb-4">Add New Text</h2>

<% if (typeof error !== 'undefined' && error) { %>
    <div class="alert alert-danger" role="alert">
        <%= error %>
    </div>
<% } %>

<%# Add enctype for file uploads %>
<form action="/add_text" method="POST" enctype="multipart/form-data">
    <div class="form-group"> <%# Replaced mb-3 %>
        <label for="title">Title:</label> <%# Removed form-label %>
        <input type="text" id="title" name="title" required value="<%= typeof title !== 'undefined' ? title : '' %>"> <%# Removed form-control %>
    </div>
    <div class="form-group"> <%# Replaced mb-3 %>
        <label for="content">Text Content (or leave blank if uploading PDF):</label> <%# Removed form-label %>
        <textarea id="content" name="content" rows="6"><%= typeof content !== 'undefined' ? content : '' %></textarea> <%# Removed form-control %>
    </div>
    <div class="form-group"> <%# Replaced mb-3 %>
        <label for="pdfFile">Or Upload PDF:</label> <%# Removed form-label %>
        <input type="file" id="pdfFile" name="pdfFile" accept=".pdf"> <%# Removed form-control %>
    </div>
    <button type="submit" class="btn btn-primary">Add Text</button> <%# Add btn classes %>
</form>

<p class="mt-4"><a href="/profile" class="btn btn-secondary btn-sm">Back to Profile</a></p> <%# Style back link as button %>

<%- include('partials/footer') %>